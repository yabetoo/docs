---
title: "Créer une intention de paiement"
description: "Créez une intention de paiement pour traiter un paiement."
---

## Endpoint

```bash
POST https://pay.sandbox.yabetoopay.com/v1/payment-intents   # Sandbox
POST https://pay.api.yabetoopay.com/v1/payment-intents       # Production
```

## Authentification

Utilisez votre clé secrète dans l'en-tête `Authorization` :

```bash
Authorization: Bearer YOUR_SECRET_KEY
```

## Corps de la requête

| Paramètre | Type | Obligatoire | Description |
|-----------|------|-------------|-------------|
| `amount` | `number` | Oui | Le montant à payer (dans la plus petite unité de devise) |
| `currency` | `string` | Oui | Code devise (ex: `xaf`, `xof`) |
| `description` | `string` | Non | Description du paiement |
| `metadata` | `object` | Non | Données personnalisées pour votre référence |

## Exemple de requête

```javascript
const response = await fetch(
  "https://pay.sandbox.yabetoopay.com/v1/payment-intents",
  {
    method: "POST",
    headers: {
      "Content-Type": "application/json",
      Authorization: "Bearer YOUR_SECRET_KEY",
    },
    body: JSON.stringify({
      amount: 2000,
      currency: "xaf",
      description: "Paiement pour produit",
      metadata: { orderId: "1234" },
    }),
  }
);

const data = await response.json();
```

## Réponse

### 200 OK

```json
{
  "amount": 2000,
  "currency": "xaf",
  "label": "payment_intent",
  "id": "pi_XdLeavDjiiaEx2y5nRz0",
  "client_secret": ""
}
```

### 422 Bad Request

```json
{
  "errors": [
    {
      "rule": "required",
      "field": "currency",
      "message": "required validation failed"
    }
  ]
}
```

### 401 Unauthorized

```json
{
  "error": "Unauthorized"
}
```
